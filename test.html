<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload File</title>
  <style>
    .file-preview {
      border: none;
      /* Äáº·t chiá»u rá»™ng cá»§a Ä‘Æ°á»ng viá»n */
      padding: 2px;
      /* ThÃªm má»™t Ã­t padding Ä‘á»ƒ táº¡o khoáº£ng cÃ¡ch giá»¯a vÄƒn báº£n vÃ  Ä‘Æ°á»ng viá»n */
      margin-bottom: 10px;
      background-color: #f5f5f5;
      width: 400px;
      display: flex;
      /* Sá»­ dá»¥ng Flexbox Ä‘á»ƒ cÄƒn giá»¯a ná»™i dung */
      align-items: center;
      /* CÄƒn giá»¯a theo chiá»u dá»c */
    }

    .file-name {
      color: #15c;
      font-weight: bold;
      margin-left: 5px;
    }
  </style>
</head>

<body>
  <h2>Upload File</h2>
  <form action="check.php" method="post" enctype="multipart/form-data">
    <input type="file" name="fileToUpload[]" id="fileToUpload" multiple onchange="previewFiles()">
    <input type="submit" value="Upload File" name="submit">
  </form>

  <div id="preview"></div>

  <script>
    function previewFiles() {
      var preview = document.getElementById('preview');
      var files = document.getElementById('fileToUpload').files;

      preview.innerHTML = '';

      for (var i = 0; i < files.length; i++) {
        var file = files[i];
        var fileTypeIcon = getFileTypeIcon(file.type);

        // Cáº¯t chuá»—i tÃªn táº­p tin náº¿u vÆ°á»£t quÃ¡ 35 kÃ½ tá»±
        var fileNameText = file.name.length > 35 ? file.name.substring(0, 35) + '...' : file.name;
        var fileName = document.createElement('span');
        fileName.textContent = fileNameText;
        fileName.className = 'file-name'; // Äáº·t lá»›p cho pháº§n tá»­ <span> chá»©a vÄƒn báº£n

        var filePreview = document.createElement('div');
        filePreview.appendChild(fileTypeIcon);
        filePreview.appendChild(fileName);
        filePreview.className = 'file-preview'; // ThÃªm lá»›p CSS cho pháº§n tá»­ <div>

        preview.appendChild(filePreview);
      }
    }

    function getFileTypeIcon(fileType) {
      // CÃ¡c loáº¡i táº­p tin vÃ  biá»ƒu tÆ°á»£ng tÆ°Æ¡ng á»©ng
      var fileTypeIcons = {
        'image/jpeg': 'ğŸ–¼ï¸', // Loáº¡i MIME cho áº£nh JPEG
        'image/png': 'ğŸ–¼ï¸', // Loáº¡i MIME cho áº£nh PNG
        'video/mp4': 'ğŸ“¹', // Loáº¡i MIME cho video MP4
        'application/pdf': 'ğŸ“„',
        'text/plain': 'ğŸ“„',
        'application/msword': 'ğŸ“„',
        'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'ğŸ“„',
        'application/vnd.ms-excel': 'ğŸ“„',
        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': 'ğŸ“„',
        'application/vnd.ms-powerpoint': 'ğŸ“„',
        'application/vnd.openxmlformats-officedocument.presentationml.presentation': 'ğŸ“„',
        'application/zip': 'ğŸ“',
        'application/x-rar-compressed': 'ğŸ“',
        'application/x-tar': 'ğŸ“',
        'application/x-7z-compressed': 'ğŸ“',
        'application/vnd.android.package-archive': 'ğŸ“¦',
        'application/x-msdownload': 'ğŸ“¦',
        'application/x-diskcopy': 'ğŸ’¾',
        'application/octet-stream': 'ğŸ“¦',
        'application/x-sh': 'ğŸ“„',
        'application/x-csh': 'ğŸ“„',
        'application/x-executable': 'ğŸ“¦',
        'application/java-archive': 'ğŸ“¦',
        'application/javascript': 'ğŸ“„',
        'application/json': 'ğŸ“„',
        'application/xml': 'ğŸ“„',
        'text/html': 'ğŸ“„',
        'text/css': 'ğŸ“„',
        'text/csv': 'ğŸ“„',
        'text/calendar': 'ğŸ“„',
        'text/javascript': 'ğŸ“„',
        'text/php': 'ğŸ“„',
      };

      // Kiá»ƒm tra xem loáº¡i táº­p tin cÃ³ tá»“n táº¡i trong danh sÃ¡ch khÃ´ng
      if (fileType in fileTypeIcons) {
        var icon = document.createElement('span');
        icon.textContent = fileTypeIcons[fileType];
        return icon;
      } else {
        // Náº¿u khÃ´ng tÃ¬m tháº¥y biá»ƒu tÆ°á»£ng, tráº£ vá» biá»ƒu tÆ°á»£ng máº·c Ä‘á»‹nh
        var defaultIcon = document.createElement('span');
        defaultIcon.textContent = 'ğŸ“'; // Biá»ƒu tÆ°á»£ng thÆ° má»¥c
        return defaultIcon;
      }
    }
  </script>
</body>

</html>